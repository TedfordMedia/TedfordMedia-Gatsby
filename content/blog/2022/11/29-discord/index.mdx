---
slug: threediscord
goto: threediscord
author: "Ted@TedfordMedia"
date: 2022-11-29
title: Controlling Three.js from Discord Chat
description: 'A Discord Chat Bot to control a Three.js scene with WebSockets'
published: true
banner: "./glass2.png"
featuredImageCaption: "adsadsas"
featuredScene: false
---

import MainFloorDemo from "@components/basics/mainfloordemo";
import Layout from "/src/components/textholder.js";

<Layout>
  The concept here is to be able to talk to a Discord Bot that deciphers commands and triggers updates to a Three.js demo scene.
 Markup : * Bullet list
              * Nested bullet
                  * Sub-nested bullet etc
          * Bullet list item 2

-OR-

 Markup : - Bullet list
              - Nested bullet
                  - Sub-nested bullet etc
          - Bullet list item 2   

  <br />
  <br />
This setup enables all connected clients to receive the added models, so this contains the barebones requirements for a multiplayer setup.  


Notes:
Node.js server running via PM2 which controls the routes and therefore provides the client Html.
It also runs as a Discord Bot and a Socket.io server on port 3000.

Discord Bot, running 
</Layout>


** Check out the GitHub repository Here
https://github.com/TedfordMedia/nodejs-socket-server-js/blob/main/src/html/js/threeScene.js
https://github.com/TedfordMedia/nodejs-socket-server-js

<br />

<Layout>
Here is the maon Node.js file app.js; as you can see it's a simple setup, with the pieces of code separated into classes in different .js files for both the server and client requirements.

```
let glassMaterialExterior = new THREE.MeshPhysicalMaterial({
import http from 'http';
import express from 'express';
import { Server } from "socket.io";
import mainTools from './mainTools.js';
import dTools from './discordTools.js';
import { doRouting } from './routing.js';
dTools.mainPart();
dTools.createClient();

const app = express();
const server = http.createServer(app);
const hostname = '0.0.0.0';
const port = 80;
const io = new Server(server);

doRouting(app);

mainTools.setupIo(io);
dTools.setupIo(io);

io.on('connection', (socket) => {
  console.log('a user connected');
  mainTools.checkSocketIncoming(socket);
});

server.listen(port, hostname, () => {

  console.log(`v2 Server running at http://${hostname}:${port}/`);

});
```
</Layout>

Links here for models:
https://sketchfab.com/norberto3d NORMERTO-3D  https://sketchfab.com/3d-models/dragon-flying-78f809b98bbe426e94d4024dc894b206 

gearbox https://sketchfab.com/3d-models/gearbox-animation-7c9a82e633e5460298032b6d195b236c https://sketchfab.com/vitalysavitskiy
hover bike https://sketchfab.com/3d-models/hover-bike-the-rocket-8b2e5bfca78e41c791b4e5b5e8c04512  https://sketchfab.com/TuppsM
